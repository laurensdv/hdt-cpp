<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>cds: cds::intrusive::TsigasCycleQueue&lt; T, Traits &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">cds
   &#160;<span id="projectnumber">2.0.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Data&#160;Fields</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacecds.html">cds</a></li><li class="navelem"><a class="el" href="namespacecds_1_1intrusive.html">intrusive</a></li><li class="navelem"><a class="el" href="classcds_1_1intrusive_1_1_tsigas_cycle_queue.html">TsigasCycleQueue</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">cds::intrusive::TsigasCycleQueue&lt; T, Traits &gt; Class Template Reference<div class="ingroups"><a class="el" href="group__cds__intrusive__containers.html">Intrusive containers</a> &raquo; <a class="el" href="group__cds__intrusive__queue.html">Queue</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Non-blocking cyclic queue discovered by Philippas Tsigas and Yi Zhang.  
 <a href="classcds_1_1intrusive_1_1_tsigas_cycle_queue.html#details">More...</a></p>

<p><code>#include &lt;cds/intrusive/tsigas_cycle_queue.h&gt;</code></p>
<div class="dynheader">
Inheritance diagram for cds::intrusive::TsigasCycleQueue&lt; T, Traits &gt;:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classcds_1_1intrusive_1_1_tsigas_cycle_queue.png" usemap="#cds::intrusive::TsigasCycleQueue&lt; T, Traits &gt;_map" alt=""/>
  <map id="cds::intrusive::TsigasCycleQueue&lt; T, Traits &gt;_map" name="cds::intrusive::TsigasCycleQueue&lt; T, Traits &gt;_map">
<area href="structcds_1_1bounded__container.html" title="Bounded container. " alt="cds::bounded_container" shape="rect" coords="0,0,275,24"/>
<area href="classcds_1_1container_1_1_tsigas_cycle_queue.html" title="Non-blocking cyclic bounded queue. " alt="cds::container::TsigasCycleQueue&lt; T, Traits &gt;" shape="rect" coords="0,112,275,136"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcds_1_1intrusive_1_1_tsigas_cycle_queue_1_1rebind.html">rebind</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Rebind template arguments.  <a href="structcds_1_1intrusive_1_1_tsigas_cycle_queue_1_1rebind.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a7e9ffcd22e1aff9a64f0fc6dae2dd7c9"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7e9ffcd22e1aff9a64f0fc6dae2dd7c9"></a>
typedef T&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1intrusive_1_1_tsigas_cycle_queue.html#a7e9ffcd22e1aff9a64f0fc6dae2dd7c9">value_type</a></td></tr>
<tr class="memdesc:a7e9ffcd22e1aff9a64f0fc6dae2dd7c9"><td class="mdescLeft">&#160;</td><td class="mdescRight">type of value to be stored in the queue <br /></td></tr>
<tr class="separator:a7e9ffcd22e1aff9a64f0fc6dae2dd7c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2d6f54cc9c5030fcd30a8c4720e21c4"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af2d6f54cc9c5030fcd30a8c4720e21c4"></a>
typedef Traits&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1intrusive_1_1_tsigas_cycle_queue.html#af2d6f54cc9c5030fcd30a8c4720e21c4">traits</a></td></tr>
<tr class="memdesc:af2d6f54cc9c5030fcd30a8c4720e21c4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Queue traits. <br /></td></tr>
<tr class="separator:af2d6f54cc9c5030fcd30a8c4720e21c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3cb83e23bb8e2313380816217ba1bc5"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af3cb83e23bb8e2313380816217ba1bc5"></a>
typedef traits::item_counter&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1intrusive_1_1_tsigas_cycle_queue.html#af3cb83e23bb8e2313380816217ba1bc5">item_counter</a></td></tr>
<tr class="memdesc:af3cb83e23bb8e2313380816217ba1bc5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Item counter type. <br /></td></tr>
<tr class="separator:af3cb83e23bb8e2313380816217ba1bc5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90b5f6cf21e926e0b4b35c25b4bca2ed"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a90b5f6cf21e926e0b4b35c25b4bca2ed"></a>
typedef traits::disposer&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1intrusive_1_1_tsigas_cycle_queue.html#a90b5f6cf21e926e0b4b35c25b4bca2ed">disposer</a></td></tr>
<tr class="memdesc:a90b5f6cf21e926e0b4b35c25b4bca2ed"><td class="mdescLeft">&#160;</td><td class="mdescRight">Item disposer. <br /></td></tr>
<tr class="separator:a90b5f6cf21e926e0b4b35c25b4bca2ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9bd94f1c5144f0db25f84e4c615fad7c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9bd94f1c5144f0db25f84e4c615fad7c"></a>
typedef traits::back_off&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1intrusive_1_1_tsigas_cycle_queue.html#a9bd94f1c5144f0db25f84e4c615fad7c">back_off</a></td></tr>
<tr class="memdesc:a9bd94f1c5144f0db25f84e4c615fad7c"><td class="mdescLeft">&#160;</td><td class="mdescRight">back-off strategy used <br /></td></tr>
<tr class="separator:a9bd94f1c5144f0db25f84e4c615fad7c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae590035bb5ea0a473662d7148e277c2b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae590035bb5ea0a473662d7148e277c2b"></a>
typedef traits::memory_model&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1intrusive_1_1_tsigas_cycle_queue.html#ae590035bb5ea0a473662d7148e277c2b">memory_model</a></td></tr>
<tr class="memdesc:ae590035bb5ea0a473662d7148e277c2b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Memory ordering. See <a class="el" href="structcds_1_1opt_1_1memory__model.html" title="[type-option] Option setter for C++ memory model ">cds::opt::memory_model</a> option. <br /></td></tr>
<tr class="separator:ae590035bb5ea0a473662d7148e277c2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a269aca3068ac44b995540a9eb7d263e7"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a269aca3068ac44b995540a9eb7d263e7"></a>
typedef <br class="typebreak" />
traits::buffer::template <br class="typebreak" />
<a class="el" href="structcds_1_1intrusive_1_1_tsigas_cycle_queue_1_1rebind.html">rebind</a>&lt; atomics::atomic<br class="typebreak" />
&lt; <a class="el" href="classcds_1_1intrusive_1_1_tsigas_cycle_queue.html#a7e9ffcd22e1aff9a64f0fc6dae2dd7c9">value_type</a> * &gt; &gt;::other&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1intrusive_1_1_tsigas_cycle_queue.html#a269aca3068ac44b995540a9eb7d263e7">buffer</a></td></tr>
<tr class="memdesc:a269aca3068ac44b995540a9eb7d263e7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Internal buffer. <br /></td></tr>
<tr class="separator:a269aca3068ac44b995540a9eb7d263e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ab23731e71b5c04d711418ae7b199f90e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1intrusive_1_1_tsigas_cycle_queue.html#ab23731e71b5c04d711418ae7b199f90e">TsigasCycleQueue</a> (size_t nCapacity=0)</td></tr>
<tr class="memdesc:ab23731e71b5c04d711418ae7b199f90e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize empty queue of capacity <code>nCapacity</code>.  <a href="#ab23731e71b5c04d711418ae7b199f90e">More...</a><br /></td></tr>
<tr class="separator:ab23731e71b5c04d711418ae7b199f90e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ca79912d7651d27952ceb18a764c63d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9ca79912d7651d27952ceb18a764c63d"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1intrusive_1_1_tsigas_cycle_queue.html#a9ca79912d7651d27952ceb18a764c63d">~TsigasCycleQueue</a> ()</td></tr>
<tr class="memdesc:a9ca79912d7651d27952ceb18a764c63d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clears the queue. <br /></td></tr>
<tr class="separator:a9ca79912d7651d27952ceb18a764c63d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ddd5d28177f7fd707617a5000a738a6"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1intrusive_1_1_tsigas_cycle_queue.html#a4ddd5d28177f7fd707617a5000a738a6">enqueue</a> (<a class="el" href="classcds_1_1intrusive_1_1_tsigas_cycle_queue.html#a7e9ffcd22e1aff9a64f0fc6dae2dd7c9">value_type</a> &amp;data)</td></tr>
<tr class="memdesc:a4ddd5d28177f7fd707617a5000a738a6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enqueues an item to the queue.  <a href="#a4ddd5d28177f7fd707617a5000a738a6">More...</a><br /></td></tr>
<tr class="separator:a4ddd5d28177f7fd707617a5000a738a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b9984265c8f6d7560e62125b27fc705"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcds_1_1intrusive_1_1_tsigas_cycle_queue.html#a7e9ffcd22e1aff9a64f0fc6dae2dd7c9">value_type</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1intrusive_1_1_tsigas_cycle_queue.html#a4b9984265c8f6d7560e62125b27fc705">dequeue</a> ()</td></tr>
<tr class="memdesc:a4b9984265c8f6d7560e62125b27fc705"><td class="mdescLeft">&#160;</td><td class="mdescRight">Dequeues item from the queue.  <a href="#a4b9984265c8f6d7560e62125b27fc705">More...</a><br /></td></tr>
<tr class="separator:a4b9984265c8f6d7560e62125b27fc705"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96dd64ac8fe6223d9b49902cb04c389a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a96dd64ac8fe6223d9b49902cb04c389a"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1intrusive_1_1_tsigas_cycle_queue.html#a96dd64ac8fe6223d9b49902cb04c389a">push</a> (<a class="el" href="classcds_1_1intrusive_1_1_tsigas_cycle_queue.html#a7e9ffcd22e1aff9a64f0fc6dae2dd7c9">value_type</a> &amp;data)</td></tr>
<tr class="memdesc:a96dd64ac8fe6223d9b49902cb04c389a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Synonym for <code><a class="el" href="classcds_1_1intrusive_1_1_tsigas_cycle_queue.html#a4ddd5d28177f7fd707617a5000a738a6" title="Enqueues an item to the queue. ">enqueue()</a></code> <br /></td></tr>
<tr class="separator:a96dd64ac8fe6223d9b49902cb04c389a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a852c121a9d2ba2ec10b26b9a13377661"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a852c121a9d2ba2ec10b26b9a13377661"></a>
<a class="el" href="classcds_1_1intrusive_1_1_tsigas_cycle_queue.html#a7e9ffcd22e1aff9a64f0fc6dae2dd7c9">value_type</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1intrusive_1_1_tsigas_cycle_queue.html#a852c121a9d2ba2ec10b26b9a13377661">pop</a> ()</td></tr>
<tr class="memdesc:a852c121a9d2ba2ec10b26b9a13377661"><td class="mdescLeft">&#160;</td><td class="mdescRight">Synonym for <code><a class="el" href="classcds_1_1intrusive_1_1_tsigas_cycle_queue.html#a4b9984265c8f6d7560e62125b27fc705" title="Dequeues item from the queue. ">dequeue()</a></code> <br /></td></tr>
<tr class="separator:a852c121a9d2ba2ec10b26b9a13377661"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a499709011affbf9deca6fc77b32fe309"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a499709011affbf9deca6fc77b32fe309"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1intrusive_1_1_tsigas_cycle_queue.html#a499709011affbf9deca6fc77b32fe309">empty</a> () const </td></tr>
<tr class="memdesc:a499709011affbf9deca6fc77b32fe309"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if the queue is empty. <br /></td></tr>
<tr class="separator:a499709011affbf9deca6fc77b32fe309"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8115f4b7c4d6b290b2f2437039cb49a1"><td class="memTemplParams" colspan="2">template&lt;typename Disposer &gt; </td></tr>
<tr class="memitem:a8115f4b7c4d6b290b2f2437039cb49a1"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classcds_1_1intrusive_1_1_tsigas_cycle_queue.html#a8115f4b7c4d6b290b2f2437039cb49a1">clear</a> (Disposer f)</td></tr>
<tr class="memdesc:a8115f4b7c4d6b290b2f2437039cb49a1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clears queue in lock-free manner.  <a href="#a8115f4b7c4d6b290b2f2437039cb49a1">More...</a><br /></td></tr>
<tr class="separator:a8115f4b7c4d6b290b2f2437039cb49a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef712005e22b0a5f28d139fca4594a0c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1intrusive_1_1_tsigas_cycle_queue.html#aef712005e22b0a5f28d139fca4594a0c">clear</a> ()</td></tr>
<tr class="memdesc:aef712005e22b0a5f28d139fca4594a0c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clears the queue.  <a href="#aef712005e22b0a5f28d139fca4594a0c">More...</a><br /></td></tr>
<tr class="separator:aef712005e22b0a5f28d139fca4594a0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e4f1b94907a3a7eb6f2c4e849da8b07"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1intrusive_1_1_tsigas_cycle_queue.html#a9e4f1b94907a3a7eb6f2c4e849da8b07">size</a> () const noexcept()</td></tr>
<tr class="memdesc:a9e4f1b94907a3a7eb6f2c4e849da8b07"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns queue's item count.  <a href="#a9e4f1b94907a3a7eb6f2c4e849da8b07">More...</a><br /></td></tr>
<tr class="separator:a9e4f1b94907a3a7eb6f2c4e849da8b07"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1bc09d18be104da7a2f02b6398dfe407"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1bc09d18be104da7a2f02b6398dfe407"></a>
size_t constexpr&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcds_1_1intrusive_1_1_tsigas_cycle_queue.html#a1bc09d18be104da7a2f02b6398dfe407">capacity</a> () const noexcept()</td></tr>
<tr class="memdesc:a1bc09d18be104da7a2f02b6398dfe407"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns capacity of internal cyclic buffer. <br /></td></tr>
<tr class="separator:a1bc09d18be104da7a2f02b6398dfe407"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h3>template&lt;typename T, typename Traits = tsigas_queue::traits&gt;<br />
class cds::intrusive::TsigasCycleQueue&lt; T, Traits &gt;</h3>

<p>Non-blocking cyclic queue discovered by Philippas Tsigas and Yi Zhang. </p>
<p>Source: </p><ul>
<li>[2000] Philippas Tsigas, Yi Zhang "A Simple, Fast and Scalable Non-Blocking Concurrent FIFO Queue
    for Shared Memory Multiprocessor Systems"</li>
</ul>
<p>Template arguments:</p><ul>
<li><code>T</code> - value type to be stored in queue. The queue stores pointers to passed data of type <code>T</code>. <b>Restriction</b>: the queue can manage at least two-byte aligned data: the least significant bit (LSB) of any pointer stored in the queue must be zero since the algorithm may use LSB as a flag that marks the free cell.</li>
<li><code>Traits</code> - queue traits, default is <code><a class="el" href="structcds_1_1intrusive_1_1tsigas__queue_1_1traits.html" title="TsigasCycleQueue default traits. ">tsigas_queue::traits</a></code>. You can use <code><a class="el" href="structcds_1_1intrusive_1_1tsigas__queue_1_1make__traits.html" title="Metafunction converting option list to tsigas_queue::traits. ">tsigas_queue::make_traits</a></code> metafunction to make your traits or just derive your traits from <code>tsigas_queue::traits</code>: <div class="fragment"><div class="line"><span class="keyword">struct </span>myTraits: <span class="keyword">public</span> <a class="code" href="structcds_1_1intrusive_1_1tsigas__queue_1_1traits.html">cds::intrusive::tsigas_queue::traits</a> {</div>
<div class="line">    <span class="keyword">typedef</span> <a class="code" href="classcds_1_1atomicity_1_1item__counter.html">cds::atomicity::item_counter</a>    <a class="code" href="classcds_1_1intrusive_1_1_tsigas_cycle_queue.html#af3cb83e23bb8e2313380816217ba1bc5">item_counter</a>;</div>
<div class="line">};</div>
<div class="line"><span class="keyword">typedef</span> <a class="code" href="classcds_1_1intrusive_1_1_tsigas_cycle_queue.html">cds::intrusive::TsigasCycleQueue&lt; Foo, myTraits &gt;</a> myQueue;</div>
<div class="line"></div>
<div class="line"><span class="comment">// Equivalent make_traits example:</span></div>
<div class="line"><span class="keyword">typedef</span> <a class="code" href="classcds_1_1intrusive_1_1_tsigas_cycle_queue.html">cds::intrusive::TsigasCycleQueue</a>&lt; Foo,</div>
<div class="line">    <span class="keyword">typename</span> <a class="code" href="structcds_1_1intrusive_1_1tsigas__queue_1_1make__traits.html">cds::intrusive::tsigas_queue::make_traits</a>&lt;</div>
<div class="line">        <a class="code" href="structcds_1_1opt_1_1item__counter.html">cds::opt::item_counter&lt; cds::atomicity::item_counter &gt;</a></div>
<div class="line">    &gt;::type</div>
<div class="line">&gt; myQueue;</div>
</div><!-- fragment --></li>
</ul>
<p>This queue algorithm does not require any garbage collector.</p>
<dl class="section user"><dt>Examples:</dt><dd><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;cds/intrusive/tsigas_cycle_queue.h&gt;</span></div>
<div class="line"></div>
<div class="line"><span class="keyword">struct </span>Foo {</div>
<div class="line">    ...</div>
<div class="line">};</div>
<div class="line"></div>
<div class="line"><span class="comment">// Queue of Foo pointers, capacity is 1024, statically allocated buffer:</span></div>
<div class="line"><span class="keyword">struct </span>queue_traits: <span class="keyword">public</span> <a class="code" href="structcds_1_1intrusive_1_1tsigas__queue_1_1traits.html">cds::intrusive::tsigas_queue::traits</a></div>
<div class="line">{</div>
<div class="line">    <span class="keyword">typedef</span> <a class="code" href="classcds_1_1opt_1_1v_1_1static__buffer.html">cds::opt::v::static_buffer&lt; Foo, 1024 &gt;</a> <a class="code" href="classcds_1_1intrusive_1_1_tsigas_cycle_queue.html#a269aca3068ac44b995540a9eb7d263e7">buffer</a>;</div>
<div class="line">};</div>
<div class="line"><span class="keyword">typedef</span> <a class="code" href="classcds_1_1intrusive_1_1_tsigas_cycle_queue.html">cds::intrusive::TsigasCycleQueue&lt; Foo, queue_traits &gt;</a> static_queue;</div>
<div class="line">static_queue    stQueue;</div>
<div class="line"></div>
<div class="line"><span class="comment">// Queue of Foo pointers, capacity is 1024, dynamically allocated buffer, with item counting:</span></div>
<div class="line"><span class="keyword">typedef</span> <a class="code" href="classcds_1_1intrusive_1_1_tsigas_cycle_queue.html">cds::intrusive::TsigasCycleQueue</a>&lt; Foo,</div>
<div class="line">    <span class="keyword">typename</span> <a class="code" href="structcds_1_1intrusive_1_1tsigas__queue_1_1make__traits.html">cds::intrusive::tsigas_queue::make_traits</a>&lt;</div>
<div class="line">        <a class="code" href="structcds_1_1opt_1_1buffer.html">cds::opt::buffer&lt; cds::opt::v::dynamic_buffer&lt; Foo &gt;</a> &gt;,</div>
<div class="line">        <a class="code" href="structcds_1_1opt_1_1item__counter.html">cds::opt::item_counter&lt; cds::atomicity::item_counter &gt;</a></div>
<div class="line">    &gt;::type</div>
<div class="line">&gt; dynamic_queue;</div>
<div class="line">dynamic_queue    dynQueue( 1024 );</div>
</div><!-- fragment --> </dd></dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ab23731e71b5c04d711418ae7b199f90e"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T , typename Traits  = tsigas_queue::traits&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcds_1_1intrusive_1_1_tsigas_cycle_queue.html">cds::intrusive::TsigasCycleQueue</a>&lt; T, Traits &gt;::<a class="el" href="classcds_1_1intrusive_1_1_tsigas_cycle_queue.html">TsigasCycleQueue</a> </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>nCapacity</em> = <code>0</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initialize empty queue of capacity <code>nCapacity</code>. </p>
<p>If internal buffer type is <code><a class="el" href="classcds_1_1opt_1_1v_1_1static__buffer.html" title="Static buffer (see cds::opt::buffer option) ">cds::opt::v::static_buffer</a></code>, the <code>nCapacity</code> parameter is ignored.</p>
<p>Note that the real capacity of queue is <code>nCapacity</code> - 2. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a8115f4b7c4d6b290b2f2437039cb49a1"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T , typename Traits  = tsigas_queue::traits&gt; </div>
<div class="memtemplate">
template&lt;typename Disposer &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classcds_1_1intrusive_1_1_tsigas_cycle_queue.html">cds::intrusive::TsigasCycleQueue</a>&lt; T, Traits &gt;::clear </td>
          <td>(</td>
          <td class="paramtype">Disposer&#160;</td>
          <td class="paramname"><em>f</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Clears queue in lock-free manner. </p>
<p><code>f</code> parameter is a functor to dispose removed items: </p><div class="fragment"><div class="line">myQueue.clear( []( <a class="code" href="classcds_1_1intrusive_1_1_tsigas_cycle_queue.html#a7e9ffcd22e1aff9a64f0fc6dae2dd7c9">value_type</a> * p ) { <span class="keyword">delete</span> p; } );</div>
</div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="aef712005e22b0a5f28d139fca4594a0c"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T , typename Traits  = tsigas_queue::traits&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classcds_1_1intrusive_1_1_tsigas_cycle_queue.html">cds::intrusive::TsigasCycleQueue</a>&lt; T, Traits &gt;::clear </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Clears the queue. </p>
<p>This function uses the disposer that is specified in <code>Traits</code>, see <code><a class="el" href="structcds_1_1intrusive_1_1tsigas__queue_1_1traits.html#a053b8ca702aa7a3ccb79db64bffc4b23" title="The functor used for dispose removed items. Default is opt::v::empty_disposer. This option is used fo...">tsigas_queue::traits::disposer</a></code>. </p>

</div>
</div>
<a class="anchor" id="a4b9984265c8f6d7560e62125b27fc705"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T , typename Traits  = tsigas_queue::traits&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcds_1_1intrusive_1_1_tsigas_cycle_queue.html#a7e9ffcd22e1aff9a64f0fc6dae2dd7c9">value_type</a>* <a class="el" href="classcds_1_1intrusive_1_1_tsigas_cycle_queue.html">cds::intrusive::TsigasCycleQueue</a>&lt; T, Traits &gt;::dequeue </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Dequeues item from the queue. </p>
<p><a class="anchor" id="cds_intrusive_TsigasQueue_dequeue"></a>If the queue is empty the function returns <code>nullptr</code> </p>
<p>Dequeue does not call value disposer. You may manually dispose returned value if it is needed. </p>

</div>
</div>
<a class="anchor" id="a4ddd5d28177f7fd707617a5000a738a6"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T , typename Traits  = tsigas_queue::traits&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classcds_1_1intrusive_1_1_tsigas_cycle_queue.html">cds::intrusive::TsigasCycleQueue</a>&lt; T, Traits &gt;::enqueue </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcds_1_1intrusive_1_1_tsigas_cycle_queue.html#a7e9ffcd22e1aff9a64f0fc6dae2dd7c9">value_type</a> &amp;&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Enqueues an item to the queue. </p>
<p><a class="anchor" id="cds_intrusive_TsigasQueue_enqueue"></a>Returns <code>true</code> if success, <code>false</code> if queue is full </p>

</div>
</div>
<a class="anchor" id="a9e4f1b94907a3a7eb6f2c4e849da8b07"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T , typename Traits  = tsigas_queue::traits&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t <a class="el" href="classcds_1_1intrusive_1_1_tsigas_cycle_queue.html">cds::intrusive::TsigasCycleQueue</a>&lt; T, Traits &gt;::size </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns queue's item count. </p>
<p>The value returned depends on <code><a class="el" href="structcds_1_1intrusive_1_1tsigas__queue_1_1traits.html#a6d1ff7842294ddaacbb850ade2bc5e00" title="Item counting feature; by default, disabled. Use cds::atomicity::item_counter to enable item counting...">tsigas_queue::traits::item_counter</a></code>. For <code><a class="el" href="classcds_1_1atomicity_1_1empty__item__counter.html" title="Empty item counter. ">atomicity::empty_item_counter</a></code>, the function always returns 0. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>cds/intrusive/tsigas_cycle_queue.h</li>
</ul>
</div><!-- contents -->
<hr/>
<div align="right">
  <b>cds</b> <b>2.0.0</b> 
  Developed by <i>Maxim Khiszinsky aka khizmax</i> 2007 - 2014
  <br/>
  <i>Autogenerated Tue Dec 30 2014 08:53:26 by Doxygen 1.8.8</i>
</div>
</body>
</html>
